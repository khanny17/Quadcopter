sudo: required
language: cpp
compiler:
    - gcc
    - clang

env:
    global:
        # The next declaration is the encrypted COVERITY_SCAN_TOKEN, created
        #   via the "travis encrypt" command using the project repo's public key
        - secure: "WQ5SVwT6TMQZ+jxoO/P5p2YJUU/oG4z/uw3dM5dbayrCOBKNkcG905ded9E73gJzux3u7Cmxq1KQcJS2Lw5bvBGnAj66wA9QVw952EHxR7pz4zkYis6C7zUB1SU9JBMB/59aHP6HzvVbIB/xEYa84tHbN8azwX14PpNnjN0hitzf6zufx3u9bllc523pHEcD7qqPxPXRt4wOmv8F6DA9U6/m0yXLMxJxCsXS8EwiUzJtz0H/rP6HUz1Aoiv+2H543v7Z9mZba7ofSBAl485vUzHuPQAf7W0afm/QJQ07iyy3daCG+Vr2ag5UftvOZS2kYgONasdWTgt3dlzTx+cb6wTY+C3Pd/OaKQn7U0yG+nk6f/1nLeWHWh4LOAPk56KTkE0qjDO7CGW5TAnS8RnYtrOgnSyoqwHanu8yEKwpW71LQgJMCpm/iwYE/GTMr1kaBJVFmLAwp8smW6qUOnQamZL73B3C1voYREnyMin4fZ8Gl2XY0poS1Mm7g2JgjORiEzN8mSVN9ivoi/pLLHRdrAqm3KDRLL97z2zKmNxMlrzmjX1KqsjkWUnzIPGODZnoG7+juUM/4biXN6u+phWEMeMSEyAwAhfpZuDHTaeNUDTBvuIX2nRynfW0K5ZaKmVsDjUHVO573guLOtfFLJsWxjqJkAM6LwZlm3g3pVS96ps="

script: mkdir build && cd build && cmake .. && make


before_install:
    - pip install --user cpp-coveralls
    - echo -n | openssl s_client -connect scan.coverity.com:443 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' | sudo tee -a /etc/ssl/certs/ca-
install:
    - if [ "$CXX" = "g++" ]; then export CXX="g++-4.8" CC="gcc-4.8"; fi
after_success:
    - coveralls --exclude lib --exclude tests --gcov-options '\-lp'

addons:
    coverity_scan:
        project:
            name: "khanny17/Quadcopter"
            description: "<Your project description here>"
            notification_email: khanny17@gmail.com
            build_command_prepend: "cmake"
            build_command:   "make"
            branch_pattern: coverity_scan
    apt:
        sources:
            - ubuntu-toolchain-r-test
            - boost-latest
            - george-edison55-precise-backports # cmake 3.2.3 / doxygen 1.8.3
        packages:
            - gcc-4.8
            - g++-4.8
            - clang
            - cmake
            - cmake-data
            - libboost1.55-all-dev

#notifications:
#    email:
#        recipients:
#            - kph1958@rit.edu
#        on_success: change
#        on_failure: always

