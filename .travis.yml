sudo: false
language: cpp
compiler:
    - gcc
    - clang

script:
    - mkdir build 
    - cd build
    - cmake ..
    - make
    - make test


before_install:
    - pip install --user cpp-coveralls
install:
    - if [ "$CXX" = "g++" ]; then export CXX="g++-4.8" CC="gcc-4.8"; fi
after_success:
    - coveralls --exclude lib --exclude tests --gcov-options '\-lp'

addons:
    apt:
        sources:
            - ubuntu-toolchain-r-test
            - boost-latest
            - george-edison55-precise-backports # cmake 3.2.3 / doxygen 1.8.3
        packages:
            - gcc-4.8
            - g++-4.8
            - clang
            - cmake
            - cmake-data
            - libboost1.55-all-dev

#notifications:
#    email:
#        recipients:
#            - kph1958@rit.edu
#        on_success: change
#        on_failure: always
